/**
 * Localización de Accesibilidad (i18n)
 * Strings en múltiples idiomas para A11y
 * Fecha: Semana 29, Tarea 29.10
 */

export const A11Y_TRANSLATIONS = {
  es: {
    // Aria labels genéricos
    'aria.button.close': 'Cerrar',
    'aria.button.menu': 'Abrir menú',
    'aria.button.search': 'Buscar',
    'aria.button.submit': 'Enviar formulario',
    'aria.button.loading': 'Cargando...',

    // Navegación
    'aria.nav.main': 'Navegación principal',
    'aria.nav.skip': 'Saltar a contenido principal',
    'aria.nav.breadcrumb': 'Navegación de migas de pan',
    'aria.nav.footer': 'Pie de página',

    // Formularios
    'aria.form.required': 'Requerido',
    'aria.form.optional': 'Opcional',
    'aria.form.error': 'Error de validación',
    'aria.form.help': 'Texto de ayuda',
    'aria.form.fieldRequired': 'Este campo es requerido',
    'aria.form.invalidEmail': 'Email inválido',
    'aria.form.passwordWeak': 'Contraseña débil',

    // Estados
    'aria.state.loading': 'Cargando',
    'aria.state.processing': 'Procesando',
    'aria.state.success': 'Éxito',
    'aria.state.error': 'Error',
    'aria.state.warning': 'Advertencia',

    // Links
    'aria.link.external': 'Abre en nueva ventana',
    'aria.link.newTab': 'Abre en nueva pestaña',

    // Tablas
    'aria.table.caption': 'Tabla de datos',
    'aria.table.sort.asc': 'Ordenar ascendente',
    'aria.table.sort.desc': 'Ordenar descendente',

    // Dialógos
    'aria.dialog.close': 'Cerrar diálogo',
    'aria.dialog.confirm': 'Confirmar acción',

    // Carrito
    'aria.cart.add': 'Agregar al carrito',
    'aria.cart.remove': 'Eliminar del carrito',
    'aria.cart.quantity': 'Cantidad',
    'aria.cart.empty': 'El carrito está vacío',
    'aria.cart.items': 'artículos en el carrito',

    // Producto
    'aria.product.addToCart': 'Agregar al carrito',
    'aria.product.addToWishlist': 'Agregar a favoritos',
    'aria.product.price': 'Precio',
    'aria.product.inStock': 'En stock',
    'aria.product.outOfStock': 'Agotado',

    // Página
    'aria.page.loading': 'Cargando página',
    'aria.page.loaded': 'Página cargada',

    // Mensajes de voz
    'voice.productAdded': 'Producto agregado al carrito',
    'voice.itemRemoved': 'Producto eliminado del carrito',
    'voice.formSubmitted': 'Formulario enviado exitosamente',
    'voice.error': 'Ocurrió un error',
    'voice.searchResults': 'Se encontraron resultados de búsqueda',
    'voice.noResults': 'No se encontraron resultados',
  },

  en: {
    // Aria labels
    'aria.button.close': 'Close',
    'aria.button.menu': 'Open menu',
    'aria.button.search': 'Search',
    'aria.button.submit': 'Submit form',
    'aria.button.loading': 'Loading...',

    // Navigation
    'aria.nav.main': 'Main navigation',
    'aria.nav.skip': 'Skip to main content',
    'aria.nav.breadcrumb': 'Breadcrumb navigation',
    'aria.nav.footer': 'Footer',

    // Forms
    'aria.form.required': 'Required',
    'aria.form.optional': 'Optional',
    'aria.form.error': 'Validation error',
    'aria.form.help': 'Help text',
    'aria.form.fieldRequired': 'This field is required',
    'aria.form.invalidEmail': 'Invalid email',
    'aria.form.passwordWeak': 'Weak password',

    // States
    'aria.state.loading': 'Loading',
    'aria.state.processing': 'Processing',
    'aria.state.success': 'Success',
    'aria.state.error': 'Error',
    'aria.state.warning': 'Warning',

    // Links
    'aria.link.external': 'Opens in new window',
    'aria.link.newTab': 'Opens in new tab',

    // Tables
    'aria.table.caption': 'Data table',
    'aria.table.sort.asc': 'Sort ascending',
    'aria.table.sort.desc': 'Sort descending',

    // Dialogs
    'aria.dialog.close': 'Close dialog',
    'aria.dialog.confirm': 'Confirm action',

    // Cart
    'aria.cart.add': 'Add to cart',
    'aria.cart.remove': 'Remove from cart',
    'aria.cart.quantity': 'Quantity',
    'aria.cart.empty': 'Cart is empty',
    'aria.cart.items': 'items in cart',

    // Product
    'aria.product.addToCart': 'Add to cart',
    'aria.product.addToWishlist': 'Add to wishlist',
    'aria.product.price': 'Price',
    'aria.product.inStock': 'In stock',
    'aria.product.outOfStock': 'Out of stock',

    // Page
    'aria.page.loading': 'Loading page',
    'aria.page.loaded': 'Page loaded',

    // Voice messages
    'voice.productAdded': 'Product added to cart',
    'voice.itemRemoved': 'Product removed from cart',
    'voice.formSubmitted': 'Form submitted successfully',
    'voice.error': 'An error occurred',
    'voice.searchResults': 'Search results found',
    'voice.noResults': 'No results found',
  },

  pt: {
    // Aria labels
    'aria.button.close': 'Fechar',
    'aria.button.menu': 'Abrir menu',
    'aria.button.search': 'Pesquisar',
    'aria.button.submit': 'Enviar formulário',
    'aria.button.loading': 'Carregando...',

    // Navegação
    'aria.nav.main': 'Navegação principal',
    'aria.nav.skip': 'Pular para o conteúdo principal',
    'aria.nav.breadcrumb': 'Navegação de rastreamento',
    'aria.nav.footer': 'Rodapé',

    // Formulários
    'aria.form.required': 'Obrigatório',
    'aria.form.optional': 'Opcional',
    'aria.form.error': 'Erro de validação',
    'aria.form.help': 'Texto de ajuda',
    'aria.form.fieldRequired': 'Este campo é obrigatório',
    'aria.form.invalidEmail': 'Email inválido',
    'aria.form.passwordWeak': 'Senha fraca',

    // Estados
    'aria.state.loading': 'Carregando',
    'aria.state.processing': 'Processando',
    'aria.state.success': 'Sucesso',
    'aria.state.error': 'Erro',
    'aria.state.warning': 'Aviso',

    // Links
    'aria.link.external': 'Abre em nova janela',
    'aria.link.newTab': 'Abre em nova aba',

    // Tabelas
    'aria.table.caption': 'Tabela de dados',
    'aria.table.sort.asc': 'Ordenar ascendente',
    'aria.table.sort.desc': 'Ordenar descendente',

    // Diálogos
    'aria.dialog.close': 'Fechar diálogo',
    'aria.dialog.confirm': 'Confirmar ação',

    // Carrinho
    'aria.cart.add': 'Adicionar ao carrinho',
    'aria.cart.remove': 'Remover do carrinho',
    'aria.cart.quantity': 'Quantidade',
    'aria.cart.empty': 'O carrinho está vazio',
    'aria.cart.items': 'itens no carrinho',

    // Produto
    'aria.product.addToCart': 'Adicionar ao carrinho',
    'aria.product.addToWishlist': 'Adicionar aos favoritos',
    'aria.product.price': 'Preço',
    'aria.product.inStock': 'Em estoque',
    'aria.product.outOfStock': 'Fora de estoque',

    // Página
    'aria.page.loading': 'Carregando página',
    'aria.page.loaded': 'Página carregada',

    // Mensagens de voz
    'voice.productAdded': 'Produto adicionado ao carrinho',
    'voice.itemRemoved': 'Produto removido do carrinho',
    'voice.formSubmitted': 'Formulário enviado com sucesso',
    'voice.error': 'Ocorreu um erro',
    'voice.searchResults': 'Resultados de pesquisa encontrados',
    'voice.noResults': 'Nenhum resultado encontrado',
  },
};

/**
 * Hook para obtener textos de accesibilidad
 */
export function useA11yText(locale: string = 'es') {
  return (key: string, defaultValue: string = key): string => {
    const translations = A11Y_TRANSLATIONS[locale as keyof typeof A11Y_TRANSLATIONS];
    if (!translations) {
      console.warn(`Locale ${locale} not found, using ES`);
      return A11Y_TRANSLATIONS.es[key as keyof typeof A11Y_TRANSLATIONS.es] || defaultValue;
    }
    return translations[key as keyof typeof translations] || defaultValue;
  };
}

/**
 * Helper para traducción inline
 */
export function getA11yText(key: string, locale: string = 'es'): string {
  const translations = A11Y_TRANSLATIONS[locale as keyof typeof A11Y_TRANSLATIONS];
  return translations?.[key as keyof typeof translations] || key;
}

/**
 * Validador de traducciones completas
 */
export function validateA11yTranslations(): {
  complete: boolean;
  missing: Record<string, string[]>;
} {
  const baseKeys = Object.keys(A11Y_TRANSLATIONS.es);
  const missing: Record<string, string[]> = {};

  Object.entries(A11Y_TRANSLATIONS).forEach(([locale, translations]) => {
    if (locale === 'es') return; // Skip base language

    const missingKeys = baseKeys.filter((key) => !(key in translations));
    if (missingKeys.length > 0) {
      missing[locale] = missingKeys;
    }
  });

  return {
    complete: Object.keys(missing).length === 0,
    missing,
  };
}
