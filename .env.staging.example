# Staging Environment Configuration
# Copy this file to .env.staging and fill with actual values
# Use staging/test API keys, not production keys

# ============================================
# Database Configuration
# ============================================
# Use separate staging database
DATABASE_URL="postgresql://user:password@staging-host:5432/database_staging?sslmode=require"
DIRECT_URL="postgresql://user:password@staging-host:5432/database_staging?sslmode=require&pgbouncer=true"

# ============================================
# Authentication
# ============================================
NEXTAUTH_URL="https://staging.yourdomain.com"
NEXTAUTH_SECRET="generate-different-secret-than-production"

# Google OAuth (can use same as production or create staging app)
GOOGLE_CLIENT_ID="your-staging-google-client-id"
GOOGLE_CLIENT_SECRET="your-staging-google-client-secret"

# ============================================
# Payment Processing (Stripe)
# ============================================
# IMPORTANT: Use TEST keys for staging
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_test_..."

# ============================================
# Email Service (Resend)
# ============================================
RESEND_API_KEY="re_test_..."
RESEND_FROM_EMAIL="staging@yourdomain.com"

# ============================================
# Application Configuration
# ============================================
NODE_ENV="staging"
NEXT_PUBLIC_APP_URL="https://staging.yourdomain.com"
NEXT_PUBLIC_API_URL="https://staging.yourdomain.com/api"

# ============================================
# Error Tracking (Sentry)
# ============================================
NEXT_PUBLIC_SENTRY_DSN="https://...@sentry.io/..."
SENTRY_AUTH_TOKEN="your-sentry-auth-token"
SENTRY_ORG="your-org"
SENTRY_PROJECT="your-project-staging"
SENTRY_ENVIRONMENT="staging"

# ============================================
# Analytics
# ============================================
# Optional: Disable or use separate tracking IDs for staging
NEXT_PUBLIC_GOOGLE_ANALYTICS=""
NEXT_PUBLIC_VERCEL_ANALYTICS_ID=""

# ============================================
# Storage (Optional)
# ============================================
# Use staging bucket or folder
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="your-staging-access-key"
AWS_SECRET_ACCESS_KEY="your-staging-secret-key"
AWS_S3_BUCKET="your-staging-bucket"

CLOUDINARY_CLOUD_NAME="your-cloud-name"
CLOUDINARY_API_KEY="your-staging-api-key"
CLOUDINARY_API_SECRET="your-staging-api-secret"

# ============================================
# Security
# ============================================
# More relaxed rate limits for testing
RATE_LIMIT_MAX_REQUESTS="1000"
RATE_LIMIT_WINDOW_MS="60000"

ALLOWED_ORIGINS="https://staging.yourdomain.com"

# ============================================
# Feature Flags
# ============================================
# Enable all features in staging for testing
FEATURE_GUEST_CHECKOUT="true"
FEATURE_SOCIAL_LOGIN="true"
FEATURE_PRODUCT_REVIEWS="true"
FEATURE_WISHLISTS="true"
FEATURE_LOYALTY_PROGRAM="true"

# ============================================
# Monitoring & Logging
# ============================================
# More verbose logging in staging
LOG_LEVEL="debug"
ENABLE_QUERY_LOGGING="true"
ENABLE_PERFORMANCE_MONITORING="true"

UPTIME_ROBOT_API_KEY=""

# ============================================
# Shipping Integration (Optional)
# ============================================
SKYDROPX_API_KEY="your-staging-api-key"
SKYDROPX_ENVIRONMENT="staging"

# ============================================
# Payment Methods (Mexico)
# ============================================
# Mercado Pago TEST credentials
MERCADO_PAGO_ACCESS_TOKEN="TEST-..."
MERCADO_PAGO_PUBLIC_KEY="TEST-..."

ENABLE_OXXO_PAYMENTS="true"
ENABLE_SPEI_PAYMENTS="true"

# ============================================
# Tax Configuration
# ============================================
TAX_RATE_IVA="0.16"
TAX_INCLUDED_IN_PRICES="false"

# ============================================
# Cache Configuration
# ============================================
# Optional: Use separate Redis instance or disable caching
REDIS_URL=""
CACHE_TTL_DEFAULT="300"
CACHE_TTL_PRODUCTS="600"
CACHE_TTL_CATEGORIES="1200"

# ============================================
# Admin Configuration
# ============================================
ADMIN_EMAIL="admin-staging@yourdomain.com"
SUPPORT_EMAIL="support-staging@yourdomain.com"

# ============================================
# Multi-tenant Configuration
# ============================================
DEFAULT_TENANT_ID="staging-tenant-id"
MULTI_TENANT_MODE="true"

# ============================================
# Backup Configuration
# ============================================
BACKUP_S3_BUCKET="your-staging-backup-bucket"
BACKUP_RETENTION_DAYS="7"

# ============================================
# Performance
# ============================================
IMAGE_OPTIMIZATION_ENABLED="true"
IMAGE_QUALITY="75"
ENABLE_STATIC_OPTIMIZATION="true"

# ============================================
# Testing & Development
# ============================================
# Enable test modes and debugging features
ENABLE_DEBUG_MODE="true"
ENABLE_TEST_PAYMENTS="true"
BYPASS_EMAIL_VERIFICATION="false"

# Seed data
LOAD_SEED_DATA="true"
SEED_ADMIN_EMAIL="admin@staging.test"
SEED_ADMIN_PASSWORD="SecureStaging123!"

# ============================================
# IMPORTANT NOTES FOR STAGING
# ============================================
# 1. Always use TEST API keys, never production keys
# 2. Staging should mirror production configuration
# 3. Use separate database to avoid contaminating production data
# 4. Test all payment flows with Stripe test cards
# 5. Enable verbose logging for debugging
# 6. Staging can be more permissive with rate limits
# 7. Reset staging database regularly (weekly recommended)
# 8. Test email flows but don't send to real users
# 9. Use staging for QA testing and demos
# 10. Staging should be password-protected or IP-restricted
